### Discount API Tests

### Variables
@baseUrl = http://localhost:8000/api
@token = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzYyNTMzODU1LCJpYXQiOjE3NjE2Njk4NTUsImp0aSI6ImMwM2MyZDJiMTg1NDQ1ODFhODJmYTdjODhmMzUyOWIxIiwidXNlcl9pZCI6IjE1In0.OPpcE47Te7GniBKkAprLMGBOVJaoCdrwlqMG1JpAtMc

### 1. Get All Discount Codes
GET {{baseUrl}}/discount-codes/
Authorization: Bearer {{token}}

### 2. Create New Discount Code (Admin/Owner only)
POST {{baseUrl}}/discount-codes/
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "code": "SUMMER2024",
    "discount_type": "percent",
    "value": 5,
    "club": 1,
    "source_type": "admin",
    "start_date": "2024-06-01T00:00:00Z",
    "end_date": "2024-08-31T23:59:59Z",
    "usage_limit": 100,
    "per_user_limit": 1,
    "is_active": true
}

### 3. Get Discount Code Details
GET {{baseUrl}}/discount-codes/1/
Authorization: Bearer {{token}}

### 4. Update Discount Code
PUT {{baseUrl}}/discount-codes/1/
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "code": "SUMMER2024",
    "discount_type": "amount",
    "value": 50000.00,
    "club": 1,
    "source_type": "admin",
    "start_date": "2024-06-01T00:00:00Z",
    "end_date": "2024-08-31T23:59:59Z",
    "usage_limit": 50,
    "per_user_limit": 1,
    "is_active": true
}

### 5. Partial Update Discount Code
PATCH {{baseUrl}}/discount-codes/1/
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "is_active": false
}

### 6. Delete Discount Code
DELETE {{baseUrl}}/discount-codes/1/
Authorization: Bearer {{token}}

### 7. Get All Discount Usages
GET {{baseUrl}}/discount-usages/
Authorization: Bearer {{token}}

### 8. Get Discount Usage Details
GET {{baseUrl}}/discount-usages/1/
Authorization: Bearer {{token}}

### 9. Filter Discount Codes by Club
GET {{baseUrl}}/discount-codes/?club=1
Authorization: Bearer {{token}}

### 10. Filter Discount Codes by Type
GET {{baseUrl}}/discount-codes/?discount_type=percent
Authorization: Bearer {{token}}

### 11. Filter Active Discount Codes
GET {{baseUrl}}/discount-codes/?is_active=true
Authorization: Bearer {{token}}

### 12. Filter Discount Codes by Source Type
GET {{baseUrl}}/discount-codes/?source_type=club
Authorization: Bearer {{token}}

### 13. Get Discount Usages for Specific Code
GET {{baseUrl}}/discount-usages/?discount=1
Authorization: Bearer {{token}}

### 14. Get Discount Usages by User
GET {{baseUrl}}/discount-usages/?user=1
Authorization: Bearer {{token}}

### 15. Create Admin Discount Code (Admin only)
POST {{baseUrl}}/discount-codes/
Authorization: Bearer {{token}}
Content-Type: application/json

{
    "code": "ADMIN2024",
    "discount_type": "percent",
    "value": 15.00,
    "club": null,
    "source_type": "admin",
    "start_date": "2024-01-01T00:00:00Z",
    "end_date": "2024-12-31T23:59:59Z",
    "usage_limit": 1000,
    "per_user_limit": 5,
    "is_active": true
}
